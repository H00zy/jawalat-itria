<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Ch1Q1</title>

<style>
:root{
  --bg:#E6EEE9;
  --box:#1F6B52;
  --top:#0B3D2E;
  --text:#0B3D2E;
  --reveal:#ffffffee;
  --stroke:#cfe1da;
}

*{box-sizing:border-box;}

body{
  font-family: system-ui;
  background:#f4f4f4;
  margin:0;
  padding:20px;
}

.stage{
  width:min(1100px,100%);
  aspect-ratio:16/9;
  background: var(--bg);
  margin:auto;
  position:relative;
  overflow:hidden;
  border-radius:14px;
  border:1px solid var(--stroke);
  box-shadow:0 20px 60px rgba(0,0,0,.15);
}

/* Ø§Ø³Ù… Ø§Ù„Ø¹Ø·Ø± */
.box1{
  position:absolute;
  top:20px;
  left:50%;
  transform:translateX(-50%);
  width:45%;
  height:9%;
  background:var(--top);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  font-size:22px;
  border-radius:12px;
  cursor:pointer;
}

/* Ø§Ù„Ø´Ø¨ÙƒØ© */
.mainGrid{
  position:absolute;
  top:18%;
  left:6%;
  width:88%;
  height:36%;
  display:grid;
  grid-template-columns: 20% 16% 22% 30%;
  grid-template-rows: repeat(3,1fr);
  gap:18px;
}

.label{
  font-weight:900;
  font-size:24px;
  text-align:center;
  color:var(--text);
}

.gameBox{
  background:var(--box);
  color:#fff;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  font-weight:900;
  padding:12px;
  cursor:pointer;
  min-height:60px;
}

.gameBox .clue{
  display:none;
  white-space:pre-line;
  color:var(--text);
}

.gameBox.revealed{
  background:var(--reveal);
  border:2px solid var(--top);
}

.gameBox.revealed .num{display:none;}
.gameBox.revealed .clue{display:block;}

/* ØµÙˆØ±Ø© Ø§Ù„Ù‡Ø±Ù… */
.pyramidWrap{
  position:absolute;
  right:3%;
  bottom:3%;
  width:40%;
  height:40%;
  display:flex;
  align-items:flex-end;
}

.pyramidWrap img{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
.hud{
  position:absolute;
  left:2%;
  top:60%;
  width:35%;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.pill{
  background:#fff;
  padding:8px;
  border-radius:999px;
  font-weight:900;
  border:1px solid var(--stroke);
}

.btn{
  padding:8px;
  border-radius:10px;
  border:none;
  background:var(--top);
  color:#fff;
  font-weight:900;
  cursor:pointer;
}

.danger{background:#7c1f1f;}

.strike{font-size:18px;}
</style>
</head>

<body>
<div class="stage">

<div class="box1" id="box1">1</div>

<div class="mainGrid">
  <div class="label">Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¹Ø·Ø±ÙŠØ©</div>
  <div class="gameBox" data-id="2"><div class="num">2</div><div class="clue"></div></div>
  <div class="label">Ø§Ù„Ø§ÙØªØªØ§Ø­ÙŠØ©</div>
  <div class="gameBox" data-id="5"><div class="num">5</div><div class="clue"></div></div>

  <div class="label">Ø§Ù„Ø¹Ø·Ø§Ø±</div>
  <div class="gameBox" data-id="3"><div class="num">3</div><div class="clue"></div></div>
  <div class="label">Ù‚Ù„Ø¨ Ø§Ù„Ø¹Ø·Ø±</div>
  <div class="gameBox" data-id="6"><div class="num">6</div><div class="clue"></div></div>

  <div class="label">Ø³Ù†Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±</div>
  <div class="gameBox" data-id="4"><div class="num">4</div><div class="clue"></div></div>
  <div class="label">Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</div>
  <div class="gameBox" data-id="7"><div class="num">7</div><div class="clue"></div></div>
</div>

<div class="pyramidWrap">
  <img id="pyramidImg" src="">
</div>

<div class="hud">
  <div class="pill">Ø§Ù„Ø¯ÙˆØ±: <span id="turnName">Ù„Ø§Ø¹Ø¨ 1</span></div>
  <div class="pill">Ù†Ù‚Ø§Ø· Ø§Ù„Ù„ÙˆØ­Ø©: <span id="points">50</span></div>
  <div class="pill">Ù„Ø§Ø¹Ø¨ 1: <span id="s1">0</span> <span id="strike1" class="strike"></span></div>
  <div class="pill">Ù„Ø§Ø¹Ø¨ 2: <span id="s2">0</span> <span id="strike2" class="strike"></span></div>
  <button class="btn" id="strikeBtn">Ø³ØªØ±Ø§ÙŠÙƒ</button>
  <button class="btn danger" id="resetBtn">RESET</button>
</div>

</div>

<script>

/* ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‡Ø±Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ */
(function(){
  const file = location.pathname.split("/").pop().replace(".html","");
  document.getElementById("pyramidImg").src = `../images/${file}.png`;
})();

/* Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø¤Ø§Ù„ */
const board = {
  perfumeName:"Kenzo Homme Indigo",
  clues:{
    2:"Kenzo",
    3:"Quentin Bisch",
    4:"2025",
    5:"Ù†Ø³ÙŠÙ… Ø§Ù„Ø¨Ø­Ø±",
    6:"Ø§Ù„Ø³ÙˆØ³Ù†",
    7:"Ø§Ù„Ø¬Ù„ÙˆØ¯ØŒ Ø®Ø´Ø¨ Ø§Ù„ØµÙ†Ø¯Ù„ØŒ Ø£ÙƒÙŠØºØ§Ù„Ø§ÙˆÙˆØ¯"
  }
};

let turn=0;
let scores=[0,0];
let strikes=[0,0];
let revealed=0;
let ended=false;

const START=50;
const PENALTY=5;

function points(){
  return Math.max(5,START-(revealed*PENALTY));
}

function update(){
  document.getElementById("turnName").textContent=turn===0?"Ù„Ø§Ø¹Ø¨ 1":"Ù„Ø§Ø¹Ø¨ 2";
  document.getElementById("points").textContent=ended?0:points();
  document.getElementById("s1").textContent=scores[0];
  document.getElementById("s2").textContent=scores[1];
  document.getElementById("strike1").textContent="ğŸ”´".repeat(strikes[0]);
  document.getElementById("strike2").textContent="ğŸ”´".repeat(strikes[1]);
}

function switchTurn(){
  turn=1-turn;
  update();
}

document.querySelectorAll(".gameBox").forEach(box=>{
  box.onclick=()=>{
    if(ended) return;
    if(box.classList.contains("revealed")) return;

    const id=box.dataset.id;
    box.classList.add("revealed");
    box.querySelector(".clue").textContent=board.clues[id];

    revealed++;
    switchTurn();
  }
});

document.getElementById("box1").onclick=()=>{
  if(ended) return;
  scores[turn]+=points();
  ended=true;
  document.getElementById("box1").textContent=board.perfumeName;
  document.querySelectorAll(".gameBox").forEach(b=>{
    b.classList.add("revealed");
    b.querySelector(".clue").textContent=board.clues[b.dataset.id];
  });
  update();
};

document.getElementById("strikeBtn").onclick=()=>{
  if(ended) return;
  strikes[turn]++;
  switchTurn();
};

document.getElementById("resetBtn").onclick=()=>{
  turn=0;
  scores=[0,0];
  strikes=[0,0];
  revealed=0;
  ended=false;
  document.getElementById("box1").textContent="1";
  document.querySelectorAll(".gameBox").forEach(b=>{
    b.classList.remove("revealed");
    b.querySelector(".clue").textContent="";
  });
  update();
};

update();
</script>

</body>
</html>

